#!/bin/sh
set -e

# Run updates (updates pyproject files)
uv run reggie-build sync
uv run reggie-build readme update-cmd

# Stage any changes made by the sync so they land in THIS commit
git add -A

# Optional: tell the user what was staged
if ! git diff --quiet --cached; then
  echo "pre-commit: staged version updates."
fi